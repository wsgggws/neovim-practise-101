# 复制粘贴操作 (21-23)

> ⭐ 简单 | 分类：基础编辑 | 预估时间：2 分钟

### 场景描述

复制粘贴是日常编辑中最常用的操作之一，本章节教你高效复制整行和多行。

---

## 21. 复制整行

> 难度：⭐ | 预估时间：30 秒

### 初始状态

```text
hello world
neovim is great
```

### 目标状态

```text
hello world
neovim is great
hello world
```

---

### 操作方法

**方法一：yyp（推荐）**

```vim
yyp
```

**方法二：命令行**

```vim
:2t.
```

---

### 解法对比

| 解法 | 命令  | 按键次数 | 优点       |
| ---- | ----- | -------- | ---------- |
| A    | `yyp` | 3        | 简单直观   |
| B    | `:t.` | 4        | 可指定范围 |

---

### 关键命令解析

| 命令   | 作用                  |
| ------ | --------------------- |
| `yy`   | 复制当前行            |
| `p`    | 粘贴到光标下方        |
| `:2t.` | 复制第 2 行到当前位置 |

---

### 常见错误

- ❌ `yyP` - 粘贴到上方（位置错误）
- ✅ `yyp` - 粘贴到下方

---

### 进阶扩展

**复制到特定位置：**

```vim
" 复制到第 10 行后
:2t10

" 复制到文件末尾
:2t$

" 复制到文件开头
:2t0
```

---

### 检验清单

- [ ] 理解 `yyp` 的原理
- [ ] 知道 `:t.` 的用法
- [ ] 能在 3 秒内完成

---

## 22. 复制多行

> 难度：⭐ | 预估时间：30 秒

### 初始状态

```text
line1
line2
line3
line4
```

### 目标状态

```text
line1
line2
line3
line4
line1
line2
```

---

### 操作方法

**方法一：可视模式（推荐）**

```vim
Vjjy
Gp
```

**方法二：命令行范围**

```vim
:1,2t 4
```

---

### 关键命令解析

| 命令      | 作用                   |
| --------- | ---------------------- |
| `V`       | 进入行可视             |
| `jj`      | 向下选中 2 行          |
| `y`       | 复制选中内容           |
| `:1,2t 4` | 复制 1-2 行到第 4 行后 |

---

### 常见错误

- ❌ 只复制了一行
- ✅ 确保选中完整的多行

---

### 检验清单

- [ ] 能使用可视模式选中多行
- [ ] 理解范围复制的语法

---

## 23. 复制到指定位置

> 难度：⭐⭐ | 预估时间：1 分钟

### 初始状态

```python
def hello():
    pass

def world():
    pass
```

### 目标状态

```python
def hello():
    pass

def world():
    pass
    pass
```

---

### 操作方法

**方法一：移动+复制**

```vim
/hello<Enter>
y2j
/world<Enter>
p
```

**方法二：宏录制**

```vim
qa
/hello<Enter>
y2j
/world<Enter>
p
q
@a
```

---

### 关键命令解析

| 命令     | 作用                |
| -------- | ------------------- |
| `/hello` | 搜索 hello          |
| `y2j`    | 复制当前行和下 2 行 |
| `p`      | 粘贴                |

---

### 常见错误

- ❌ 搜索后光标位置不对
- ✅ 确认光标在正确位置后再复制

---

### 检验清单

- [ ] 能使用搜索定位
- [ ] 能复制跨函数的内容

---

## 复制粘贴速查

| 操作         | 命令       | 说明                |
| ------------ | ---------- | ------------------- |
| 复制整行     | `yy`       | yank line           |
| 复制到光标后 | `p`        | paste               |
| 复制到光标前 | `P`        | paste before        |
| 复制 n 行    | `nyy`      | n 行                |
| 复制到行尾   | `y$`       | yank to end         |
| 范围复制     | `:m,n t k` | m-n 行复制到 k 行后 |

---

### 视频时间点

- **0:00** - 题目介绍
- **0:15** - 演示第 21 题
- **0:45** - 演示第 22 题
- **1:30** - 演示第 23 题
- **2:00** - 速查表

---

> **提示**：善用 `:reg` 查看寄存器内容。
