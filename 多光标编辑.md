# 多光标编辑 (29-31)

> ⭐⭐ 中等 | 分类：效率提升 | 预估时间：3 分钟

### 场景描述

多光标编辑是批量修改的利器，适合对多处相同内容进行同步编辑。

---

## 29. 批量修改相同单词

> 难度：⭐⭐ | 预估时间：1 分钟

### 初始状态

```python
name = "John"
print(name)
return name
```

### 目标状态

```python
user = "John"
print(user)
return user
```

---

### 操作方法

**方法一：Ctrl-n（推荐）**

```vim
/name<Enter>
Ctrl-n  " 选中第一个
Ctrl-n  " 选中第二个
Ctrl-n  " 选中第三个
cuser<Esc>
```

**方法二：substitute**

```vim
:%s/name/user/g
```

---

### 关键命令解析

| 命令     | 作用           |
| -------- | -------------- |
| `Ctrl-n` | 选中下一个匹配 |
| `Ctrl-p` | 选中上一个匹配 |
| `Esc`    | 退出多光标模式 |

---

### 常见错误

- ❌ 只选中了一个位置
- ✅ 选中所有需要修改的位置

---

### 检验清单

- [ ] 知道如何进入多光标模式
- [ ] 能选中多个匹配位置

---

## 30. 列编辑模式

> 难度：⭐⭐ | 预估时间：1 分钟

### 初始状态

```text
apple
banana
cherry
date
```

### 目标状态

```text
- apple
- banana
- cherry
- date
```

---

### 操作方法

**方法一：列选+插入（推荐）**

```vim
Ctrl-v
jjj
I-
<Esc>
```

**方法二：substitute**

```vim
:%s/^/- /
```

---

### 关键命令解析

| 命令     | 作用               |
| -------- | ------------------ |
| `Ctrl-v` | 进入列可视模式     |
| `I`      | 行首插入（列选时） |
| `A`      | 行尾插入（列选时） |
| `Esc`    | 完成插入           |

---

### 常见错误

- ❌ 用 `v` 进入字符可视
- ✅ 用 `Ctrl-v` 进入列可视

---

### 检验清单

- [ ] 知道列可视模式的操作
- [ ] 能用 `I` 在列选时插入

---

## 31. 多行行尾添加

> 难度：⭐⭐ | 预估时间：1 分钟

### 初始状态

```javascript
const a = 1;
const b = 2;
const c = 3;
```

### 目标状态

```javascript
const a = 1;
const b = 2;
const c = 3;
```

---

### 操作方法

```vim
Ctrl-v
jj
$A;
<Esc>
```

---

### 关键命令解析

| 命令     | 作用               |
| -------- | ------------------ |
| `Ctrl-v` | 列可视             |
| `jj`     | 选中 3 行          |
| `$`      | 跳到行尾（列选时） |
| `A`      | 行尾追加           |

---

### 进阶扩展

**多行行首添加：**

```vim
Ctrl-v
jj
I//
<Esc>
```

---

### 检验清单

- [ ] 能使用列选模式
- [ ] 知道 `$` 和 `A` 的配合

---

## 多光标编辑速查

| 操作       | 命令      | 说明       |
| ---------- | --------- | ---------- |
| 进入列选   | `Ctrl-v`  | 可视块模式 |
| 选中下一个 | `Ctrl-n`  | 多光标模式 |
| 行首插入   | `I`       | 列选时     |
| 行尾追加   | `A`       | 列选时     |
| 选中所有   | `gCtrl-n` | 多光标模式 |

---

### 视频时间点

- **0:00** - 题目介绍
- **0:20** - 演示第 29 题
- **1:00** - 演示第 30 题
- **1:45** - 演示第 31 题
- **2:30** - 速查表

---

> **提示**：LazyVim 中 `gCtrl-n` 可以选中所有匹配。
