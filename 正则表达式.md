# 正则表达式 (98-100)

> ⭐⭐ 中等 | 高级替换

## 98. 匹配并替换模式

**初始状态**：

```text
file_2024_01_01.txt
file_2024_02_15.txt
file_2024_03_30.txt
```

**操作提示**：

```vim
:%s/file_2024_\(\d\{2\}_\d\{2\}\)/file_2024-\1/
```

**目标状态**：

```text
file_2024-01-01.txt
file_2024-02-15.txt
file_2024-03-30.txt
```

---

## 99. 提取匹配组

**初始状态**：

```text
User: John (age: 30)
User: Jane (age: 25)
User: Bob (age: 35)
```

**操作提示**：

```vim
:%s/User: \(\w*\) (age: \(\d*\))/\1 is \2 years old/
```

**目标状态**：

```text
John is 30 years old
Jane is 25 years old
Bob is 35 years old
```

---

## 100. 条件替换

**初始状态**：

```text
TODO: implement feature A
DONE: implement feature B
TODO: implement feature C
```

**操作提示**：

```vim
:TODOHIGHLIGHT
" 或手动
:%s/TODO: /[ ] /
:%s/DONE: /[x] /
```

**目标状态**：

```text
[ ] implement feature A
[x] implement feature B
[ ] implement feature C
```

---

## 正则表达式速查

| 模式        | 含义                   |
| ----------- | ---------------------- |
| `\d\{2\}`   | 两位数字               |
| `\w\+`      | 一个或多个单词字符     |
| `\([^)]*\)` | 括号内的内容（捕获组） |
| `\1`, `\2`  | 反向引用               |
