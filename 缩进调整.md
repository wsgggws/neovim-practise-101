# 缩进调整 (11-13)

> ⭐ 简单 | 分类：代码格式 | 预估时间：2 分钟

### 场景描述

代码缩进是代码可读性的基础，本章节教你调整和格式化缩进。

---

## 11. 增加缩进

> 难度：⭐ | 预估时间：30 秒

### 初始状态

```python
def hello():
print("Hello")
return True
```

### 目标状态

```python
def hello():
    print("Hello")
    return True
```

---

### 操作方法

**方法一：可视模式（推荐）**

```vim
V2j>
```

**方法二：命令行**

```vim
:2,4>
```

**方法三：自动格式化**

```vim
V2j=
```

---

### 关键命令解析

| 命令 | 作用          |
| ---- | ------------- |
| `V`  | 进入行可视    |
| `2j` | 向下选中 2 行 |
| `>`  | 增加缩进      |
| `=`  | 自动格式化    |

---

### 常见错误

- ❌ `>>` 只缩进当前行
- ✅ `V2j>` 缩进选中行

---

### 进阶扩展

**缩进 n 次：**

```vim
3>>  " 缩进 3 行
```

**使用 LSP 格式化：**

```vim
<leader>lf
```

---

### 检验清单

- [ ] 知道可视模式选中的方法
- [ ] 理解 `>` 的作用
- [ ] 能在 5 秒内完成

---

## 12. 减少缩进

> 难度：⭐ | 预估时间：30 秒

### 初始状态

```python
def hello():
        print("Hello")
        return True
```

### 目标状态

```python
def hello():
    print("Hello")
    return True
```

---

### 操作方法

**方法一：可视模式**

```vim
V2j<
```

**方法二：命令行**

```vim
:2,4<
```

---

### 关键命令解析

| 命令 | 作用     |
| ---- | -------- |
| `<`  | 减少缩进 |

---

### 常见错误

- ❌ 缩进过多导致格式混乱
- ✅ 先预览再确认

---

### 检验清单

- [ ] 知道 `<` 是减少缩进
- [ ] 能控制缩进的量

---

## 13. 自动格式化缩进

> 难度：⭐⭐ | 预估时间：1 分钟

### 初始状态

```python
def hello():
      print("Hello")
if True:
print("World")
```

### 目标状态

```python
def hello():
    print("Hello")
if True:
    print("World")
```

---

### 操作方法

**方法一：选中后格式化**

```vim
V3j=
```

**方法二：整个文件格式化**

```vim
gg=G
```

**方法三：LSP 格式化**

```vim
<leader>lf
```

---

### 关键命令解析

| 命令 | 作用       |
| ---- | ---------- |
| `gg` | 文件开头   |
| `G`  | 文件结尾   |
| `=`  | 自动格式化 |

---

### 常见错误

- ❌ 只格式化部分代码
- ✅ 根据需求选择范围

---

### 进阶扩展

**格式化函数：**

```vim
afi=  " around function indent
```

**格式化选中区域：**

```vim
=  " 在可视模式下
```

---

### 检验清单

- [ ] 知道 `gg=G` 格式化整个文件
- [ ] 知道 LSP 格式化的方法
- [ ] 能格式化特定区域

---

## 缩进命令速查

| 操作       | 命令     | 说明   |
| ---------- | -------- | ------ |
| 增加缩进   | `>>`     | 单行   |
| 减少缩进   | `<<`     | 单行   |
| 增加缩进   | `V选中>` | 多行   |
| 减少缩进   | `V选中<` | 多行   |
| 自动格式化 | `=`      | 格式化 |
| 格式化全文 | `gg=G`   | 全文   |

---

### 视频时间点

- **0:00** - 题目介绍
- **0:15** - 演示第 11 题
- **0:45** - 演示第 12 题
- **1:30** - 演示第 13 题
- **2:00** - 速查表

---

> **提示**：使用 `:set et` 启用 expandtab，用空格代替 tab。
